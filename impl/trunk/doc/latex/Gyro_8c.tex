\hypertarget{Gyro_8c}{\section{hal/\+I\+M\+U/gyro/\+Gyro.c File Reference}
\label{Gyro_8c}\index{hal/\+I\+M\+U/gyro/\+Gyro.\+c@{hal/\+I\+M\+U/gyro/\+Gyro.\+c}}
}
{\ttfamily \#include \char`\"{}../../\+L\+L\+D\+\_\+\+I\+F/\+L\+L\+D\+\_\+\+I2\+C.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../\+Lib/\+Hal\+\_\+\+Lib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Gyro.\+h\char`\"{}}\\*
Include dependency graph for Gyro.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Gyro_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{Gyro_8c_ae6b7e0daa72a5100fb94cbba1611aed1_ae6b7e0daa72a5100fb94cbba1611aed1}{M\+\_\+\+H\+A\+L\+\_\+\+G\+Y\+R\+O\+\_\+\+T\+E\+M\+P\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+U\+I8}~27
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structstrGyro}{str\+Gyro} \hyperlink{Gyro_8c_a41690c80e0f291ddbdea391f0a669316_a41690c80e0f291ddbdea391f0a669316}{g\+\_\+hal\+Gyro\+\_\+get\+Gyroscope\+\_\+st} (void)
\begin{DoxyCompactList}\small\item\em Get rotation from gyroscope. \end{DoxyCompactList}\item 
double \hyperlink{Gyro_8c_ad96fab6a250c2958ede033839c51fde1_ad96fab6a250c2958ede033839c51fde1}{g\+\_\+hal\+Gyro\+\_\+get\+Temperature\+\_\+f64} (void)
\begin{DoxyCompactList}\small\item\em Get Temperature from gyroscope. \end{DoxyCompactList}\item 
int \hyperlink{Gyro_8c_a3dd13505bea06ab0684a22d8929d4831_a3dd13505bea06ab0684a22d8929d4831}{g\+\_\+hal\+Gyro\+\_\+init\+Gyro\+\_\+i32} (void)
\begin{DoxyCompactList}\small\item\em Initialize Gyroscope chip. \end{DoxyCompactList}\item 
int \hyperlink{Gyro_8c_a658cebd4a49cc41d09c64b5645f65239_a658cebd4a49cc41d09c64b5645f65239}{g\+\_\+hal\+Gyro\+\_\+read\+Gyroscope\+From\+I2\+C\+\_\+i32} (void)
\begin{DoxyCompactList}\small\item\em Trigger I2\+C transfer. \end{DoxyCompactList}\item 
int \hyperlink{Gyro_8c_ae9dedf4bbb445cf0ed4c482077a11849_ae9dedf4bbb445cf0ed4c482077a11849}{g\+\_\+hal\+Gyro\+\_\+read\+Temperature\+From\+I2\+C\+\_\+i32} (void)
\begin{DoxyCompactList}\small\item\em Trigger I2\+C transfer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static double \hyperlink{Gyro_8c_a038dec571bb88948278ddeda786c246d_a038dec571bb88948278ddeda786c246d}{m\+\_\+hal\+Gyro\+\_\+temperature\+\_\+f64}
\item 
static \hyperlink{structstrGyro}{str\+Gyro} \hyperlink{Gyro_8c_aa96392284bb554e10441bdba96265243_aa96392284bb554e10441bdba96265243}{m\+\_\+rotation\+\_\+str}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{Gyro_8c_ae6b7e0daa72a5100fb94cbba1611aed1_ae6b7e0daa72a5100fb94cbba1611aed1}{\index{Gyro.\+c@{Gyro.\+c}!M\+\_\+\+H\+A\+L\+\_\+\+G\+Y\+R\+O\+\_\+\+T\+E\+M\+P\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+U\+I8@{M\+\_\+\+H\+A\+L\+\_\+\+G\+Y\+R\+O\+\_\+\+T\+E\+M\+P\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+U\+I8}}
\index{M\+\_\+\+H\+A\+L\+\_\+\+G\+Y\+R\+O\+\_\+\+T\+E\+M\+P\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+U\+I8@{M\+\_\+\+H\+A\+L\+\_\+\+G\+Y\+R\+O\+\_\+\+T\+E\+M\+P\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+U\+I8}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{M\+\_\+\+H\+A\+L\+\_\+\+G\+Y\+R\+O\+\_\+\+T\+E\+M\+P\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+U\+I8}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+\_\+\+H\+A\+L\+\_\+\+G\+Y\+R\+O\+\_\+\+T\+E\+M\+P\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+U\+I8~27}}\label{Gyro_8c_ae6b7e0daa72a5100fb94cbba1611aed1_ae6b7e0daa72a5100fb94cbba1611aed1}


Definition at line 16 of file Gyro.\+c.



\subsection{Function Documentation}
\hypertarget{Gyro_8c_a41690c80e0f291ddbdea391f0a669316_a41690c80e0f291ddbdea391f0a669316}{\index{Gyro.\+c@{Gyro.\+c}!g\+\_\+hal\+Gyro\+\_\+get\+Gyroscope\+\_\+st@{g\+\_\+hal\+Gyro\+\_\+get\+Gyroscope\+\_\+st}}
\index{g\+\_\+hal\+Gyro\+\_\+get\+Gyroscope\+\_\+st@{g\+\_\+hal\+Gyro\+\_\+get\+Gyroscope\+\_\+st}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{g\+\_\+hal\+Gyro\+\_\+get\+Gyroscope\+\_\+st}]{\setlength{\rightskip}{0pt plus 5cm}{\bf str\+Gyro} g\+\_\+hal\+Gyro\+\_\+get\+Gyroscope\+\_\+st (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{Gyro_8c_a41690c80e0f291ddbdea391f0a669316_a41690c80e0f291ddbdea391f0a669316}


Get rotation from gyroscope. 



 \begin{DoxyAuthor}{Author}
Oliver Breuning ( olbrgs00 ) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2015/05/05
\end{DoxyDate}
Interface of reading rotational speed which is measured by the gyroscope.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em no} & parameter \\
\hline
\mbox{\tt out}  & {\em struct} & \hyperlink{structstrGyro}{str\+Gyro} with yaw, pitch, roll\\
\hline
\end{DoxyParams}


Definition at line 77 of file Gyro.\+c.


\begin{DoxyCode}
78 \{
79     \textcolor{keywordflow}{return} \hyperlink{Gyro_8c_aa96392284bb554e10441bdba96265243_aa96392284bb554e10441bdba96265243}{m\_rotation\_str};
80 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Gyro_8c_a41690c80e0f291ddbdea391f0a669316_a41690c80e0f291ddbdea391f0a669316_icgraph}
\end{center}
\end{figure}


\hypertarget{Gyro_8c_ad96fab6a250c2958ede033839c51fde1_ad96fab6a250c2958ede033839c51fde1}{\index{Gyro.\+c@{Gyro.\+c}!g\+\_\+hal\+Gyro\+\_\+get\+Temperature\+\_\+f64@{g\+\_\+hal\+Gyro\+\_\+get\+Temperature\+\_\+f64}}
\index{g\+\_\+hal\+Gyro\+\_\+get\+Temperature\+\_\+f64@{g\+\_\+hal\+Gyro\+\_\+get\+Temperature\+\_\+f64}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{g\+\_\+hal\+Gyro\+\_\+get\+Temperature\+\_\+f64}]{\setlength{\rightskip}{0pt plus 5cm}double g\+\_\+hal\+Gyro\+\_\+get\+Temperature\+\_\+f64 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{Gyro_8c_ad96fab6a250c2958ede033839c51fde1_ad96fab6a250c2958ede033839c51fde1}


Get Temperature from gyroscope. 



 \begin{DoxyAuthor}{Author}
Oliver Breuning ( olbrgs00 ) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2015/05/05
\end{DoxyDate}
Interface of reading Temperature which is measured by the gyroscope.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em no} & parameter \\
\hline
\mbox{\tt out}  & {\em Temperature} & \\
\hline
\end{DoxyParams}


Definition at line 97 of file Gyro.\+c.


\begin{DoxyCode}
98 \{
99     \textcolor{keywordflow}{return} \hyperlink{Gyro_8c_a038dec571bb88948278ddeda786c246d_a038dec571bb88948278ddeda786c246d}{m\_halGyro\_temperature\_f64};
100 \}
\end{DoxyCode}
\hypertarget{Gyro_8c_a3dd13505bea06ab0684a22d8929d4831_a3dd13505bea06ab0684a22d8929d4831}{\index{Gyro.\+c@{Gyro.\+c}!g\+\_\+hal\+Gyro\+\_\+init\+Gyro\+\_\+i32@{g\+\_\+hal\+Gyro\+\_\+init\+Gyro\+\_\+i32}}
\index{g\+\_\+hal\+Gyro\+\_\+init\+Gyro\+\_\+i32@{g\+\_\+hal\+Gyro\+\_\+init\+Gyro\+\_\+i32}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{g\+\_\+hal\+Gyro\+\_\+init\+Gyro\+\_\+i32}]{\setlength{\rightskip}{0pt plus 5cm}int g\+\_\+hal\+Gyro\+\_\+init\+Gyro\+\_\+i32 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{Gyro_8c_a3dd13505bea06ab0684a22d8929d4831_a3dd13505bea06ab0684a22d8929d4831}


Initialize Gyroscope chip. 



 \begin{DoxyAuthor}{Author}
Oliver Breuning ( olbrgs00 ) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2015/05/05
\end{DoxyDate}
Initialize all necessary register of the gyroscope chip.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em no} & parameter \\
\hline
\mbox{\tt out}  & {\em succeded} & \\
\hline
\end{DoxyParams}


Definition at line 37 of file Gyro.\+c.


\begin{DoxyCode}
38 \{
39     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_WriteBuffer\_ui8[3];
40 
41     \textcolor{comment}{//Bypass mode -> maybe Dynamic Stream if enough bandwidth on I2C is left}
42 
43     \textcolor{comment}{//CTRL1 (20h)= 0b11101111 ODR=800Hz Cut-Off frequency=not used}
44     \textcolor{comment}{//CTRL2 (21h)= 0b00100000 HPF=normal mode; Cut-Off frequency=56Hz}
45     l\_WriteBuffer\_ui8[0]=\hyperlink{Gyro_8h_aa54d4da84affeb023c7da9c5a258294d_aa54d4da84affeb023c7da9c5a258294d}{M\_HAL\_GYRO\_MULTIPLE\_READ\_FLAG\_UI8} | 
      \hyperlink{Gyro_8h_a2391b18a239ba104b7af979d02572574_a2391b18a239ba104b7af979d02572574}{M\_HAL\_GYRO\_CTRL1\_UI8};
46     l\_WriteBuffer\_ui8[1]=\hyperlink{Gyro_8h_a5b66d5913979ba212a11098ed0d378ee_a5b66d5913979ba212a11098ed0d378ee}{M\_HAL\_GYRO\_CTRL1\_DR0\_DR1\_UI8} | 
      \hyperlink{Gyro_8h_a66775ea325f73c5a07f99f233ce40709_a66775ea325f73c5a07f99f233ce40709}{M\_HAL\_GYRO\_CTRL1\_BW1\_UI8} | \hyperlink{Gyro_8h_ae55e0b3ff1c742e0f5eb815b7647a203_ae55e0b3ff1c742e0f5eb815b7647a203}{M\_HAL\_GYRO\_CTRL1\_NORMAL\_UI8};
47     l\_WriteBuffer\_ui8[2]=\hyperlink{Gyro_8h_ac5371af5a8f2e16cfe834d59da7bdda6_ac5371af5a8f2e16cfe834d59da7bdda6}{M\_HAL\_GYRO\_CTRL2\_HPF\_NORMAL\_MODE\_UI8};
48     \textcolor{keywordflow}{if}(\hyperlink{LLD__I2C_8c_aa6892bf4aea7f232d9b0ff2dbf8a9321_aa6892bf4aea7f232d9b0ff2dbf8a9321}{g\_lldI2c\_WriteI2c\_bl}(\hyperlink{Gyro_8h_a229cc30b98d58b11ceb9dd9d4f918149_a229cc30b98d58b11ceb9dd9d4f918149}{M\_I2C\_SLAVE\_ADDRESS\_GYRO\_UI8}, 
      l\_WriteBuffer\_ui8, \hyperlink{barometer_8h_a75be7514ea86063298d354c6b8b17026_a75be7514ea86063298d354c6b8b17026}{M\_HAL\_BARO\_NR\_OF\_BYTES\_THREE\_UI8})!=0)
49     \{\textcolor{keywordflow}{return} -1;\}
50 
51     usleep(100000);
52 
53     \textcolor{comment}{//CTRL4 (23h)= 0b00010000}
54     l\_WriteBuffer\_ui8[0]=\hyperlink{Gyro_8h_aa4995ced86cc9feaaa7ed11a00db07b9_aa4995ced86cc9feaaa7ed11a00db07b9}{M\_HAL\_GYRO\_SINGLE\_READ\_FLAG\_UI8} | 
      \hyperlink{Gyro_8h_aa7ebd78a96c471ecb68a01c932dd27da_aa7ebd78a96c471ecb68a01c932dd27da}{M\_HAL\_GYRO\_CTRL4\_UI8};
55     l\_WriteBuffer\_ui8[1]=\hyperlink{Gyro_8h_a80acde5cf31194f51bc0ec79bc176724_a80acde5cf31194f51bc0ec79bc176724}{M\_HAL\_GYRO\_CTRL4\_SCALE\_500DPS\_UI8};
56     \textcolor{keywordflow}{if}(\hyperlink{LLD__I2C_8c_aa6892bf4aea7f232d9b0ff2dbf8a9321_aa6892bf4aea7f232d9b0ff2dbf8a9321}{g\_lldI2c\_WriteI2c\_bl}(\hyperlink{Gyro_8h_a229cc30b98d58b11ceb9dd9d4f918149_a229cc30b98d58b11ceb9dd9d4f918149}{M\_I2C\_SLAVE\_ADDRESS\_GYRO\_UI8}, 
      l\_WriteBuffer\_ui8, \hyperlink{barometer_8h_ae97c0ea2c1ed02f14d24762bc6195062_ae97c0ea2c1ed02f14d24762bc6195062}{M\_HAL\_BARO\_NR\_OF\_BYTES\_TWO\_UI8})!=0)
57     \{\textcolor{keywordflow}{return} -1;\}
58 
59     \textcolor{keywordflow}{return} 0;
60 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{Gyro_8c_a3dd13505bea06ab0684a22d8929d4831_a3dd13505bea06ab0684a22d8929d4831_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Gyro_8c_a3dd13505bea06ab0684a22d8929d4831_a3dd13505bea06ab0684a22d8929d4831_icgraph}
\end{center}
\end{figure}


\hypertarget{Gyro_8c_a658cebd4a49cc41d09c64b5645f65239_a658cebd4a49cc41d09c64b5645f65239}{\index{Gyro.\+c@{Gyro.\+c}!g\+\_\+hal\+Gyro\+\_\+read\+Gyroscope\+From\+I2\+C\+\_\+i32@{g\+\_\+hal\+Gyro\+\_\+read\+Gyroscope\+From\+I2\+C\+\_\+i32}}
\index{g\+\_\+hal\+Gyro\+\_\+read\+Gyroscope\+From\+I2\+C\+\_\+i32@{g\+\_\+hal\+Gyro\+\_\+read\+Gyroscope\+From\+I2\+C\+\_\+i32}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{g\+\_\+hal\+Gyro\+\_\+read\+Gyroscope\+From\+I2\+C\+\_\+i32}]{\setlength{\rightskip}{0pt plus 5cm}int g\+\_\+hal\+Gyro\+\_\+read\+Gyroscope\+From\+I2\+C\+\_\+i32 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{Gyro_8c_a658cebd4a49cc41d09c64b5645f65239_a658cebd4a49cc41d09c64b5645f65239}


Trigger I2\+C transfer. 



 \begin{DoxyAuthor}{Author}
Oliver Breuning ( olbrgs00 ) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2015/05/05
\end{DoxyDate}
Trigger rotational speed transfer from gyroscope to H\+A\+L


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em no} & parameter \\
\hline
\mbox{\tt out}  & {\em succeeded} & \\
\hline
\end{DoxyParams}


Definition at line 118 of file Gyro.\+c.


\begin{DoxyCode}
119 \{
120     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_ReadBuffer\_ui8[6]=\{0,0,0,0,0,0\};
121     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_xRegister\_ui8[2]=\{0,0\};
122     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_yRegister\_ui8[2]=\{0,0\};
123     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_zRegister\_ui8[2]=\{0,0\};
124     \textcolor{keywordtype}{double} l\_xValue\_ui8=0;
125     \textcolor{keywordtype}{double} l\_yValue\_ui8=0;
126     \textcolor{keywordtype}{double} l\_zValue\_ui8=0;
127     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_WriteBuffer\_ui8[3];
128     \textcolor{keywordtype}{int} l\_countVariable\_i32=0;
129     \textcolor{comment}{//500dps in init set}
130     \textcolor{keywordtype}{double} l\_factorRaw2Out\_f64=(double)500.0/32767.0;
131 
132 
133     \textcolor{comment}{//maybe check if new value is available; STATUS (27h) -->ZYXDA}
134 
135     \textcolor{comment}{//set SUB Address to X register OUT\_X\_L and activate multiple read}
136     l\_WriteBuffer\_ui8[0]=\hyperlink{Gyro_8h_aa54d4da84affeb023c7da9c5a258294d_aa54d4da84affeb023c7da9c5a258294d}{M\_HAL\_GYRO\_MULTIPLE\_READ\_FLAG\_UI8} | 
      \hyperlink{Gyro_8h_abafd01de241a86a103ca53e603efb772_abafd01de241a86a103ca53e603efb772}{M\_HAL\_GYRO\_OUT\_X\_L\_UI8};
137     \textcolor{keywordflow}{if}(\hyperlink{LLD__I2C_8c_aa6892bf4aea7f232d9b0ff2dbf8a9321_aa6892bf4aea7f232d9b0ff2dbf8a9321}{g\_lldI2c\_WriteI2c\_bl}(\hyperlink{Gyro_8h_a229cc30b98d58b11ceb9dd9d4f918149_a229cc30b98d58b11ceb9dd9d4f918149}{M\_I2C\_SLAVE\_ADDRESS\_GYRO\_UI8}, 
      l\_WriteBuffer\_ui8, \hyperlink{barometer_8h_a42f2bdf1ec4c360185efd9a48ac9fea7_a42f2bdf1ec4c360185efd9a48ac9fea7}{M\_HAL\_BARO\_NR\_OF\_BYTES\_ONE\_UI8})!=0)
138     \{\textcolor{keywordflow}{return} -1;\}
139 
140     \textcolor{comment}{//Read from OUT\_X\_L (28h), OUT\_X\_H (29h), OUT\_Y\_L (2Ah), OUT\_Y\_H (2Bh), OUT\_Z\_L (2Ch), OUT\_Z\_H (2Dh)}
141     \textcolor{keywordflow}{if}(\hyperlink{LLD__I2C_8c_a107ee9f1e4646733ac3ef6addf0def7e_a107ee9f1e4646733ac3ef6addf0def7e}{g\_lldI2c\_ReadI2c\_bl}(\hyperlink{Gyro_8h_a229cc30b98d58b11ceb9dd9d4f918149_a229cc30b98d58b11ceb9dd9d4f918149}{M\_I2C\_SLAVE\_ADDRESS\_GYRO\_UI8}, 
      l\_ReadBuffer\_ui8, \hyperlink{Gyro_8h_a55e47dda8080d81cc93c9e8c8a741c8c_a55e47dda8080d81cc93c9e8c8a741c8c}{M\_HAL\_BARO\_NR\_OF\_BYTES\_SIX\_UI8})!=0)
142     \{\textcolor{keywordflow}{return} -1;\}
143     \textcolor{keywordflow}{else}
144     \{
145         \textcolor{comment}{//move MSB to position 0}
146         \textcolor{keywordflow}{for}(l\_countVariable\_i32=0;l\_countVariable\_i32<2;l\_countVariable\_i32++)
147         \{
148             l\_xRegister\_ui8[l\_countVariable\_i32]=l\_ReadBuffer\_ui8[1-l\_countVariable\_i32];
149             l\_yRegister\_ui8[l\_countVariable\_i32]=l\_ReadBuffer\_ui8[3-l\_countVariable\_i32];
150             l\_zRegister\_ui8[l\_countVariable\_i32]=l\_ReadBuffer\_ui8[5-l\_countVariable\_i32];
151         \}
152 
153         l\_xValue\_ui8=(double)\hyperlink{Hal__Lib_8c_a21d048c60ec00e3c991f01880877026c_a21d048c60ec00e3c991f01880877026c}{g\_halLib\_twoComplement2Int}(l\_xRegister\_ui8,2);
154         l\_yValue\_ui8=(double)\hyperlink{Hal__Lib_8c_a21d048c60ec00e3c991f01880877026c_a21d048c60ec00e3c991f01880877026c}{g\_halLib\_twoComplement2Int}(l\_yRegister\_ui8,2);
155         l\_zValue\_ui8=(double)\hyperlink{Hal__Lib_8c_a21d048c60ec00e3c991f01880877026c_a21d048c60ec00e3c991f01880877026c}{g\_halLib\_twoComplement2Int}(l\_zRegister\_ui8,2);
156 
157         l\_xValue\_ui8=l\_xValue\_ui8*l\_factorRaw2Out\_f64;
158         l\_yValue\_ui8=l\_yValue\_ui8*l\_factorRaw2Out\_f64;
159         l\_zValue\_ui8=l\_zValue\_ui8*l\_factorRaw2Out\_f64;
160 
161         \hyperlink{Gyro_8c_aa96392284bb554e10441bdba96265243_aa96392284bb554e10441bdba96265243}{m\_rotation\_str}.\hyperlink{structstrGyro_a0b8d0c0ec6e3324a403d983d67fae643_a0b8d0c0ec6e3324a403d983d67fae643}{l\_roll\_f64}=l\_xValue\_ui8;
162         \hyperlink{Gyro_8c_aa96392284bb554e10441bdba96265243_aa96392284bb554e10441bdba96265243}{m\_rotation\_str}.\hyperlink{structstrGyro_a9d82fa8970135f2097dd209a74138848_a9d82fa8970135f2097dd209a74138848}{l\_pitch\_f64}=l\_yValue\_ui8;
163         \hyperlink{Gyro_8c_aa96392284bb554e10441bdba96265243_aa96392284bb554e10441bdba96265243}{m\_rotation\_str}.\hyperlink{structstrGyro_a1c8ca43d350ad8ef20d2968aa29e6ce6_a1c8ca43d350ad8ef20d2968aa29e6ce6}{l\_yaw\_f64}=l\_zValue\_ui8;
164     \}
165 
166     \textcolor{keywordflow}{return} 0;
167 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Gyro_8c_a658cebd4a49cc41d09c64b5645f65239_a658cebd4a49cc41d09c64b5645f65239_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Gyro_8c_a658cebd4a49cc41d09c64b5645f65239_a658cebd4a49cc41d09c64b5645f65239_icgraph}
\end{center}
\end{figure}


\hypertarget{Gyro_8c_ae9dedf4bbb445cf0ed4c482077a11849_ae9dedf4bbb445cf0ed4c482077a11849}{\index{Gyro.\+c@{Gyro.\+c}!g\+\_\+hal\+Gyro\+\_\+read\+Temperature\+From\+I2\+C\+\_\+i32@{g\+\_\+hal\+Gyro\+\_\+read\+Temperature\+From\+I2\+C\+\_\+i32}}
\index{g\+\_\+hal\+Gyro\+\_\+read\+Temperature\+From\+I2\+C\+\_\+i32@{g\+\_\+hal\+Gyro\+\_\+read\+Temperature\+From\+I2\+C\+\_\+i32}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{g\+\_\+hal\+Gyro\+\_\+read\+Temperature\+From\+I2\+C\+\_\+i32}]{\setlength{\rightskip}{0pt plus 5cm}int g\+\_\+hal\+Gyro\+\_\+read\+Temperature\+From\+I2\+C\+\_\+i32 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{Gyro_8c_ae9dedf4bbb445cf0ed4c482077a11849_ae9dedf4bbb445cf0ed4c482077a11849}


Trigger I2\+C transfer. 



 \begin{DoxyAuthor}{Author}
Oliver Breuning ( olbrgs00 ) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2015/05/05
\end{DoxyDate}
Trigger Temperature transfer from gyroscope to H\+A\+L


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em no} & parameter \\
\hline
\mbox{\tt out}  & {\em succeeded} & \\
\hline
\end{DoxyParams}


Definition at line 184 of file Gyro.\+c.


\begin{DoxyCode}
185 \{
186     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_ReadBuffer\_ui8[2]=\{0,0\};
187     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} l\_WriteBuffer\_ui8[3];
188 
189     \textcolor{comment}{//set SUB Address to OUT\_TEMP register and activate single read}
190     l\_WriteBuffer\_ui8[0]=\hyperlink{Gyro_8h_aa4995ced86cc9feaaa7ed11a00db07b9_aa4995ced86cc9feaaa7ed11a00db07b9}{M\_HAL\_GYRO\_SINGLE\_READ\_FLAG\_UI8} | 
      \hyperlink{Gyro_8h_a9311793ee73b72cdefbca637955d9fd6_a9311793ee73b72cdefbca637955d9fd6}{M\_HAL\_GYRO\_OUT\_TEMP\_UI8};
191     \textcolor{keywordflow}{if}(\hyperlink{LLD__I2C_8c_aa6892bf4aea7f232d9b0ff2dbf8a9321_aa6892bf4aea7f232d9b0ff2dbf8a9321}{g\_lldI2c\_WriteI2c\_bl}(\hyperlink{Gyro_8h_a229cc30b98d58b11ceb9dd9d4f918149_a229cc30b98d58b11ceb9dd9d4f918149}{M\_I2C\_SLAVE\_ADDRESS\_GYRO\_UI8}, 
      l\_WriteBuffer\_ui8, \hyperlink{barometer_8h_a42f2bdf1ec4c360185efd9a48ac9fea7_a42f2bdf1ec4c360185efd9a48ac9fea7}{M\_HAL\_BARO\_NR\_OF\_BYTES\_ONE\_UI8})!=0)
192     \{\textcolor{keywordflow}{return} -1;\}
193 
194     \textcolor{comment}{//Read from OUT\_TEMP (26h)}
195     \textcolor{keywordflow}{if}(\hyperlink{LLD__I2C_8c_a107ee9f1e4646733ac3ef6addf0def7e_a107ee9f1e4646733ac3ef6addf0def7e}{g\_lldI2c\_ReadI2c\_bl}(\hyperlink{Gyro_8h_a229cc30b98d58b11ceb9dd9d4f918149_a229cc30b98d58b11ceb9dd9d4f918149}{M\_I2C\_SLAVE\_ADDRESS\_GYRO\_UI8}, 
      l\_ReadBuffer\_ui8, \hyperlink{barometer_8h_a42f2bdf1ec4c360185efd9a48ac9fea7_a42f2bdf1ec4c360185efd9a48ac9fea7}{M\_HAL\_BARO\_NR\_OF\_BYTES\_ONE\_UI8})!=0)
196     \{\textcolor{keywordflow}{return} -1;\}
197     \textcolor{keywordflow}{else}
198     \{
199         \hyperlink{Gyro_8c_a038dec571bb88948278ddeda786c246d_a038dec571bb88948278ddeda786c246d}{m\_halGyro\_temperature\_f64}=(double)(
      \hyperlink{Gyro_8c_ae6b7e0daa72a5100fb94cbba1611aed1_ae6b7e0daa72a5100fb94cbba1611aed1}{M\_HAL\_GYRO\_TEMP\_OFFSET\_UI8})-(double)(
      \hyperlink{Hal__Lib_8c_a21d048c60ec00e3c991f01880877026c_a21d048c60ec00e3c991f01880877026c}{g\_halLib\_twoComplement2Int}(l\_ReadBuffer\_ui8,1));
200     \}
201 
202     \textcolor{keywordflow}{return} 0;
203 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Gyro_8c_ae9dedf4bbb445cf0ed4c482077a11849_ae9dedf4bbb445cf0ed4c482077a11849_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{Gyro_8c_a038dec571bb88948278ddeda786c246d_a038dec571bb88948278ddeda786c246d}{\index{Gyro.\+c@{Gyro.\+c}!m\+\_\+hal\+Gyro\+\_\+temperature\+\_\+f64@{m\+\_\+hal\+Gyro\+\_\+temperature\+\_\+f64}}
\index{m\+\_\+hal\+Gyro\+\_\+temperature\+\_\+f64@{m\+\_\+hal\+Gyro\+\_\+temperature\+\_\+f64}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{m\+\_\+hal\+Gyro\+\_\+temperature\+\_\+f64}]{\setlength{\rightskip}{0pt plus 5cm}double m\+\_\+hal\+Gyro\+\_\+temperature\+\_\+f64\hspace{0.3cm}{\ttfamily [static]}}}\label{Gyro_8c_a038dec571bb88948278ddeda786c246d_a038dec571bb88948278ddeda786c246d}


Definition at line 20 of file Gyro.\+c.

\hypertarget{Gyro_8c_aa96392284bb554e10441bdba96265243_aa96392284bb554e10441bdba96265243}{\index{Gyro.\+c@{Gyro.\+c}!m\+\_\+rotation\+\_\+str@{m\+\_\+rotation\+\_\+str}}
\index{m\+\_\+rotation\+\_\+str@{m\+\_\+rotation\+\_\+str}!Gyro.\+c@{Gyro.\+c}}
\subsubsection[{m\+\_\+rotation\+\_\+str}]{\setlength{\rightskip}{0pt plus 5cm}{\bf str\+Gyro} m\+\_\+rotation\+\_\+str\hspace{0.3cm}{\ttfamily [static]}}}\label{Gyro_8c_aa96392284bb554e10441bdba96265243_aa96392284bb554e10441bdba96265243}


Definition at line 19 of file Gyro.\+c.

