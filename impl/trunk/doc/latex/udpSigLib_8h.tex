\hypertarget{udpSigLib_8h}{\section{matlab/udp\+Sig\+Lib.h File Reference}
\label{udpSigLib_8h}\index{matlab/udp\+Sig\+Lib.\+h@{matlab/udp\+Sig\+Lib.\+h}}
}
{\ttfamily \#include \char`\"{}udp\+Lib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../sig/\+Orientation/\+Orientation.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../hal/\+I\+M\+U/imu.\+h\char`\"{}}\\*
Include dependency graph for udp\+Sig\+Lib.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{udpSigLib_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{udpSigLib_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structhalMatlab__rtSigAllStatePayload}{hal\+Matlab\+\_\+rt\+Sig\+All\+State\+Payload}
\item 
struct \hyperlink{structhalMatlab__rtSigPayload}{hal\+Matlab\+\_\+rt\+Sig\+Payload}
\begin{DoxyCompactList}\small\item\em Container for time-\/stamped S\+I\+G\+N\+A\+L layer state data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structhalMatlab__rtSigAllStatePayload}{hal\+Matlab\+\_\+rt\+Sig\+All\+State\+Payload} \hyperlink{udpSigLib_8h_abf4dac6b7984656845b4c3d0d2168a7c_abf4dac6b7984656845b4c3d0d2168a7c}{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+All\+States\+\_\+bl} (int f\+\_\+socket\+Handler\+\_\+i32)
\begin{DoxyCompactList}\small\item\em Receives a packet of S\+I\+G data with the current via a given U\+D\+P-\/\+Socket. \end{DoxyCompactList}\item 
\hyperlink{structhalMatlab__rtSigPayload}{hal\+Matlab\+\_\+rt\+Sig\+Payload} \hyperlink{udpSigLib_8h_a1a7106a477c6333bc258e5631f751635_a1a7106a477c6333bc258e5631f751635}{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+State\+\_\+bl} (int f\+\_\+socket\+Handler\+\_\+i32)
\begin{DoxyCompactList}\small\item\em Receives a packet of S\+I\+G data with the current via a given U\+D\+P-\/\+Socket. \end{DoxyCompactList}\item 
unsigned int \hyperlink{udpSigLib_8h_af61d04b0beb193be3fdc57b6aad27ee4_af61d04b0beb193be3fdc57b6aad27ee4}{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+All\+States\+\_\+bl} (int f\+\_\+socket\+Handler\+\_\+i32, \hyperlink{structhalImu__orientationValues}{hal\+Imu\+\_\+orientation\+Values} f\+\_\+raw\+Imu\+State\+\_\+st, \hyperlink{structsigOri__orientationAngles}{sig\+Ori\+\_\+orientation\+Angles} f\+\_\+sig\+Kalman\+State\+\_\+st, \hyperlink{structsigOri__orientationAngles}{sig\+Ori\+\_\+orientation\+Angles} f\+\_\+sig\+Complementary\+State\+\_\+st)
\begin{DoxyCompactList}\small\item\em Sends a packet of I\+M\+U data with the current unuix-\/timestamp via a given U\+D\+P-\/\+Socket. \end{DoxyCompactList}\item 
unsigned int \hyperlink{udpSigLib_8h_a662f398ba9844156271a729363b6b4bd_a662f398ba9844156271a729363b6b4bd}{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+State\+\_\+bl} (int f\+\_\+socket\+Handler\+\_\+i32, \hyperlink{structsigOri__orientationAngles}{sig\+Ori\+\_\+orientation\+Angles} f\+\_\+sig\+State\+\_\+st)
\begin{DoxyCompactList}\small\item\em Sends a packet of I\+M\+U data with the current unuix-\/timestamp via a given U\+D\+P-\/\+Socket. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{udpSigLib_8h_abf4dac6b7984656845b4c3d0d2168a7c_abf4dac6b7984656845b4c3d0d2168a7c}{\index{udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}!g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+All\+States\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+All\+States\+\_\+bl}}
\index{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+All\+States\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+All\+States\+\_\+bl}!udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}}
\subsubsection[{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+All\+States\+\_\+bl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf hal\+Matlab\+\_\+rt\+Sig\+All\+State\+Payload} g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+All\+States\+\_\+bl (
\begin{DoxyParamCaption}
\item[{int}]{f\+\_\+socket\+Handler\+\_\+i32}
\end{DoxyParamCaption}
)}}\label{udpSigLib_8h_abf4dac6b7984656845b4c3d0d2168a7c_abf4dac6b7984656845b4c3d0d2168a7c}


Receives a packet of S\+I\+G data with the current via a given U\+D\+P-\/\+Socket. 



 \begin{DoxyAuthor}{Author}
Juergen Schmidt (juscgs00) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2014/06/01
\end{DoxyDate}
This function receives a data packet with a synthetic S\+I\+G state via a given U\+D\+P-\/\+Socket. This can be used to perform a Software-\/in -\/the-\/\+Loop setup or test specific filter algorithms in M\+A\+T\+L\+A\+B.~\newline
 It is recommended to open the neccessary U\+D\+P-\/socket with \hyperlink{udpLib_8c_ae4db0dc04a7a7f7b01cf95c393701204_ae4db0dc04a7a7f7b01cf95c393701204}{g\+\_\+hal\+Matlab\+\_\+init\+Socket\+\_\+i32()} or \hyperlink{udpLib_8c_af56c173f4b3218ace62bff967eacac4d_af56c173f4b3218ace62bff967eacac4d}{g\+\_\+hal\+Matlab\+\_\+init\+Connection\+\_\+i32()}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em f\+\_\+socket\+Handler\+\_\+i32} & specifies socket handler number used for the data transmission \\
\hline
\mbox{\tt out}  & {\em returns} & the received synthetic S\+I\+G state packed into a custom struct type with timestamp (type\+: \hyperlink{structhalMatlab__rtSigPayload}{hal\+Matlab\+\_\+rt\+Sig\+Payload})\\
\hline
\end{DoxyParams}


Definition at line 215 of file udp\+Sig\+Lib.\+c.


\begin{DoxyCode}
215                                                                                           \{
216     \hyperlink{structhalMatlab__rtSigAllStatePayload}{halMatlab\_rtSigAllStatePayload}        l\_recvSigAllStates\_st;
217     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}                             l\_recvBuffer\_rgXui8[ \textcolor{keyword}{sizeof}(
      \hyperlink{structhalMatlab__rtSigAllStatePayload}{halMatlab\_rtSigAllStatePayload}) ];
218     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}                              l\_recvBytesNumber\_ui32;
219 
220     \textcolor{comment}{// zero all values}
221     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a2526e3f137ca373500385c769c69b897_a2526e3f137ca373500385c769c69b897}{timestamp\_st}.tv\_sec   = 0;
222     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a2526e3f137ca373500385c769c69b897_a2526e3f137ca373500385c769c69b897}{timestamp\_st}.tv\_nsec  = 0;
223 
224   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_a8080616bd2a3d4f01f5334d4bf05427e_a8080616bd2a3d4f01f5334d4bf05427e}{acc}.\hyperlink{structhalAccmag__3dDoubleVector_a011646ea6f4b78400dfd2ffa8eb45eea_a011646ea6f4b78400dfd2ffa8eb45eea}{x\_f64}       = 0;
225   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_a8080616bd2a3d4f01f5334d4bf05427e_a8080616bd2a3d4f01f5334d4bf05427e}{acc}.\hyperlink{structhalAccmag__3dDoubleVector_a88f4ed3363ccaa08c00d2fc28f7b2ab4_a88f4ed3363ccaa08c00d2fc28f7b2ab4}{y\_f64}       = 0;
226   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_a8080616bd2a3d4f01f5334d4bf05427e_a8080616bd2a3d4f01f5334d4bf05427e}{acc}.\hyperlink{structhalAccmag__3dDoubleVector_a5041b0551694f5f4057a5f3454782e44_a5041b0551694f5f4057a5f3454782e44}{z\_f64}       = 0;
227   
228   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_ac0763bc025ee3aa20f167e74ecccfc3c_ac0763bc025ee3aa20f167e74ecccfc3c}{mag}.\hyperlink{structhalAccmag__3dDoubleVector_a011646ea6f4b78400dfd2ffa8eb45eea_a011646ea6f4b78400dfd2ffa8eb45eea}{x\_f64}       = 0;
229   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_ac0763bc025ee3aa20f167e74ecccfc3c_ac0763bc025ee3aa20f167e74ecccfc3c}{mag}.\hyperlink{structhalAccmag__3dDoubleVector_a88f4ed3363ccaa08c00d2fc28f7b2ab4_a88f4ed3363ccaa08c00d2fc28f7b2ab4}{y\_f64}       = 0;
230   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_ac0763bc025ee3aa20f167e74ecccfc3c_ac0763bc025ee3aa20f167e74ecccfc3c}{mag}.\hyperlink{structhalAccmag__3dDoubleVector_a5041b0551694f5f4057a5f3454782e44_a5041b0551694f5f4057a5f3454782e44}{z\_f64}       = 0;
231   
232   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_a386a3509066dbfd830da6b7a993b31da_a386a3509066dbfd830da6b7a993b31da}{gyro}.\hyperlink{structstrGyro_a9d82fa8970135f2097dd209a74138848_a9d82fa8970135f2097dd209a74138848}{l\_pitch\_f64}  = 0;
233     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_a386a3509066dbfd830da6b7a993b31da_a386a3509066dbfd830da6b7a993b31da}{gyro}.\hyperlink{structstrGyro_a0b8d0c0ec6e3324a403d983d67fae643_a0b8d0c0ec6e3324a403d983d67fae643}{l\_roll\_f64}  = 0;
234     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_a386a3509066dbfd830da6b7a993b31da_a386a3509066dbfd830da6b7a993b31da}{gyro}.\hyperlink{structstrGyro_a1c8ca43d350ad8ef20d2968aa29e6ce6_a1c8ca43d350ad8ef20d2968aa29e6ce6}{l\_yaw\_f64}      = 0;
235   
236   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_aeda72e72e4979977023cba31ee89cffa_aeda72e72e4979977023cba31ee89cffa}{temperature\_f64} = 0;
237   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}.\hyperlink{structhalImu__orientationValues_a512925b63aa63c02874ce4dbb920c7f0_a512925b63aa63c02874ce4dbb920c7f0}{pressure\_f64}    = 0;
238   
239     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a125a952adeb10a6d7391f2b0acfcaae2_a125a952adeb10a6d7391f2b0acfcaae2}{kalmanSigState\_st}.\hyperlink{structsigOri__orientationAngles_a36aa8568f26ce93d16385822cf2e76de_a36aa8568f26ce93d16385822cf2e76de}{pitch\_f64} = 0;
240     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a125a952adeb10a6d7391f2b0acfcaae2_a125a952adeb10a6d7391f2b0acfcaae2}{kalmanSigState\_st}.\hyperlink{structsigOri__orientationAngles_a0bdf621a53623bc73765e918e368c76e_a0bdf621a53623bc73765e918e368c76e}{roll\_f64}   = 0;
241     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a125a952adeb10a6d7391f2b0acfcaae2_a125a952adeb10a6d7391f2b0acfcaae2}{kalmanSigState\_st}.\hyperlink{structsigOri__orientationAngles_a4d2dd55644a4f5484f1809f64f14e792_a4d2dd55644a4f5484f1809f64f14e792}{yaw\_f64}     = 0;
242 
243   l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_ae2a362e5944039d976077bb43797fd30_ae2a362e5944039d976077bb43797fd30}{complementarySigState\_st}.
      \hyperlink{structsigOri__orientationAngles_a36aa8568f26ce93d16385822cf2e76de_a36aa8568f26ce93d16385822cf2e76de}{pitch\_f64} = 0;
244     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_ae2a362e5944039d976077bb43797fd30_ae2a362e5944039d976077bb43797fd30}{complementarySigState\_st}.
      \hyperlink{structsigOri__orientationAngles_a0bdf621a53623bc73765e918e368c76e_a0bdf621a53623bc73765e918e368c76e}{roll\_f64}    = 0;
245     l\_recvSigAllStates\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_ae2a362e5944039d976077bb43797fd30_ae2a362e5944039d976077bb43797fd30}{complementarySigState\_st}.
      \hyperlink{structsigOri__orientationAngles_a4d2dd55644a4f5484f1809f64f14e792_a4d2dd55644a4f5484f1809f64f14e792}{yaw\_f64}  = 0;
246 
247     \textcolor{comment}{// receive packet}
248     l\_recvBytesNumber\_ui32 = \hyperlink{udpLib_8c_ae2c1f15f17730f3794e20be65106a963_ae2c1f15f17730f3794e20be65106a963}{g\_halMatlab\_recvPacket\_ui32}(    f\_socketHandler\_i32
      ,
249                                                             l\_recvBuffer\_rgXui8,
250                                                             \textcolor{keyword}{sizeof}(
      \hyperlink{structhalMatlab__rtSigAllStatePayload}{halMatlab\_rtSigAllStatePayload}) );
251 
252     \textcolor{keywordflow}{if} ( l\_recvBytesNumber\_ui32 == \textcolor{keyword}{sizeof}(\hyperlink{structhalMatlab__rtSigAllStatePayload}{halMatlab\_rtSigAllStatePayload}) )
253     \{
254         memcpy( &l\_recvSigAllStates\_st, &l\_recvBuffer\_rgXui8, \textcolor{keyword}{sizeof}(
      \hyperlink{structhalMatlab__rtSigAllStatePayload}{halMatlab\_rtSigAllStatePayload}));
255     \}
256 
257     \textcolor{keywordflow}{return} l\_recvSigAllStates\_st;
258 \}\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{udpSigLib_8h_abf4dac6b7984656845b4c3d0d2168a7c_abf4dac6b7984656845b4c3d0d2168a7c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{udpSigLib_8h_abf4dac6b7984656845b4c3d0d2168a7c_abf4dac6b7984656845b4c3d0d2168a7c_icgraph}
\end{center}
\end{figure}


\hypertarget{udpSigLib_8h_a1a7106a477c6333bc258e5631f751635_a1a7106a477c6333bc258e5631f751635}{\index{udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}!g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+State\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+State\+\_\+bl}}
\index{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+State\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+State\+\_\+bl}!udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}}
\subsubsection[{g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+State\+\_\+bl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf hal\+Matlab\+\_\+rt\+Sig\+Payload} g\+\_\+hal\+Matlab\+\_\+recv\+Sig\+State\+\_\+bl (
\begin{DoxyParamCaption}
\item[{int}]{f\+\_\+socket\+Handler\+\_\+i32}
\end{DoxyParamCaption}
)}}\label{udpSigLib_8h_a1a7106a477c6333bc258e5631f751635_a1a7106a477c6333bc258e5631f751635}


Receives a packet of S\+I\+G data with the current via a given U\+D\+P-\/\+Socket. 



 \begin{DoxyAuthor}{Author}
Juergen Schmidt (juscgs00) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2014/06/01
\end{DoxyDate}
This function receives a data packet with a synthetic S\+I\+G state via a given U\+D\+P-\/\+Socket. This can be used to perform a Software-\/in -\/the-\/\+Loop setup or test specific filter algorithms in M\+A\+T\+L\+A\+B.~\newline
 It is recommended to open the neccessary U\+D\+P-\/socket with \hyperlink{udpLib_8c_ae4db0dc04a7a7f7b01cf95c393701204_ae4db0dc04a7a7f7b01cf95c393701204}{g\+\_\+hal\+Matlab\+\_\+init\+Socket\+\_\+i32()} or \hyperlink{udpLib_8c_af56c173f4b3218ace62bff967eacac4d_af56c173f4b3218ace62bff967eacac4d}{g\+\_\+hal\+Matlab\+\_\+init\+Connection\+\_\+i32()}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em f\+\_\+socket\+Handler\+\_\+i32} & specifies socket handler number used for the data transmission \\
\hline
\mbox{\tt out}  & {\em returns} & the received synthetic S\+I\+G state packed into a custom struct type with timestamp (type\+: \hyperlink{structhalMatlab__rtSigPayload}{hal\+Matlab\+\_\+rt\+Sig\+Payload})\\
\hline
\end{DoxyParams}


Definition at line 163 of file udp\+Sig\+Lib.\+c.


\begin{DoxyCode}
163                                                                               \{
164     \hyperlink{structhalMatlab__rtSigPayload}{halMatlab\_rtSigPayload}        l\_recvSigState\_st;
165     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}               l\_recvBuffer\_rgXui8[ \textcolor{keyword}{sizeof}(
      \hyperlink{structhalMatlab__rtSigPayload}{halMatlab\_rtSigPayload}) ];
166     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}                l\_recvBytesNumber\_ui32;
167 
168     \textcolor{comment}{// zero all values}
169     l\_recvSigState\_st.\hyperlink{structhalMatlab__rtSigPayload_acf78b49f8e27a0097931fe0e57d14819_acf78b49f8e27a0097931fe0e57d14819}{timestamp\_st}.tv\_sec   = 0;
170     l\_recvSigState\_st.\hyperlink{structhalMatlab__rtSigPayload_acf78b49f8e27a0097931fe0e57d14819_acf78b49f8e27a0097931fe0e57d14819}{timestamp\_st}.tv\_nsec  = 0;
171 
172     l\_recvSigState\_st.\hyperlink{structhalMatlab__rtSigPayload_acbe0c4752e7c359734effc1f17f5f494_acbe0c4752e7c359734effc1f17f5f494}{sigState\_st}.\hyperlink{structsigOri__orientationAngles_a36aa8568f26ce93d16385822cf2e76de_a36aa8568f26ce93d16385822cf2e76de}{pitch\_f64} = 0;
173     l\_recvSigState\_st.\hyperlink{structhalMatlab__rtSigPayload_acbe0c4752e7c359734effc1f17f5f494_acbe0c4752e7c359734effc1f17f5f494}{sigState\_st}.\hyperlink{structsigOri__orientationAngles_a0bdf621a53623bc73765e918e368c76e_a0bdf621a53623bc73765e918e368c76e}{roll\_f64}   = 0;
174     l\_recvSigState\_st.\hyperlink{structhalMatlab__rtSigPayload_acbe0c4752e7c359734effc1f17f5f494_acbe0c4752e7c359734effc1f17f5f494}{sigState\_st}.\hyperlink{structsigOri__orientationAngles_a4d2dd55644a4f5484f1809f64f14e792_a4d2dd55644a4f5484f1809f64f14e792}{yaw\_f64}     = 0;
175 
176 
177     \textcolor{comment}{// receive packet}
178     l\_recvBytesNumber\_ui32 = \hyperlink{udpLib_8c_ae2c1f15f17730f3794e20be65106a963_ae2c1f15f17730f3794e20be65106a963}{g\_halMatlab\_recvPacket\_ui32}(    f\_socketHandler\_i32
      ,
179                                                             l\_recvBuffer\_rgXui8,
180                                                             \textcolor{keyword}{sizeof}(
      \hyperlink{structhalMatlab__rtSigPayload}{halMatlab\_rtSigPayload}) );
181 
182     \textcolor{keywordflow}{if} ( l\_recvBytesNumber\_ui32 == \textcolor{keyword}{sizeof}(\hyperlink{structhalMatlab__rtSigPayload}{halMatlab\_rtSigPayload}) )
183     \{
184         memcpy( &l\_recvSigState\_st, &l\_recvBuffer\_rgXui8, \textcolor{keyword}{sizeof}(
      \hyperlink{structhalMatlab__rtSigPayload}{halMatlab\_rtSigPayload}));
185     \}
186 
187     \textcolor{keywordflow}{return} l\_recvSigState\_st;
188 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{udpSigLib_8h_a1a7106a477c6333bc258e5631f751635_a1a7106a477c6333bc258e5631f751635_cgraph}
\end{center}
\end{figure}


\hypertarget{udpSigLib_8h_af61d04b0beb193be3fdc57b6aad27ee4_af61d04b0beb193be3fdc57b6aad27ee4}{\index{udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}!g\+\_\+hal\+Matlab\+\_\+send\+Sig\+All\+States\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+All\+States\+\_\+bl}}
\index{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+All\+States\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+All\+States\+\_\+bl}!udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}}
\subsubsection[{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+All\+States\+\_\+bl}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int g\+\_\+hal\+Matlab\+\_\+send\+Sig\+All\+States\+\_\+bl (
\begin{DoxyParamCaption}
\item[{int}]{f\+\_\+socket\+Handler\+\_\+i32, }
\item[{{\bf hal\+Imu\+\_\+orientation\+Values}}]{f\+\_\+raw\+Imu\+State\+\_\+st, }
\item[{{\bf sig\+Ori\+\_\+orientation\+Angles}}]{f\+\_\+sig\+Kalman\+State\+\_\+st, }
\item[{{\bf sig\+Ori\+\_\+orientation\+Angles}}]{f\+\_\+sig\+Complementary\+State\+\_\+st}
\end{DoxyParamCaption}
)}}\label{udpSigLib_8h_af61d04b0beb193be3fdc57b6aad27ee4_af61d04b0beb193be3fdc57b6aad27ee4}


Sends a packet of I\+M\+U data with the current unuix-\/timestamp via a given U\+D\+P-\/\+Socket. 



 \begin{DoxyAuthor}{Author}
Juergen Schmidt (juscgs00) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2014/06/01
\end{DoxyDate}
This function sends a data packet with the given I\+M\+U state via a given U\+D\+P-\/\+Socket. The current timestamp is added to the payload to get some sort of realtime behavior.~\newline
 This can be used to perform a Software-\/in -\/the-\/\+Loop setup or test specific filter algorithms in M\+A\+T\+L\+A\+B.~\newline
 It is recommended to open the neccessary U\+D\+P-\/socket with \hyperlink{udpLib_8c_ae4db0dc04a7a7f7b01cf95c393701204_ae4db0dc04a7a7f7b01cf95c393701204}{g\+\_\+hal\+Matlab\+\_\+init\+Socket\+\_\+i32()} or \hyperlink{udpLib_8c_af56c173f4b3218ace62bff967eacac4d_af56c173f4b3218ace62bff967eacac4d}{g\+\_\+hal\+Matlab\+\_\+init\+Connection\+\_\+i32()}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em f\+\_\+socket\+Handler\+\_\+i32} & specifies socket handler number used for the data transmission \\
\hline
\mbox{\tt in}  & {\em f\+\_\+imu\+State\+\_\+st} & is a the I\+M\+U state packed into a custom struct type (type\+: \hyperlink{structhalImu__orientationValues}{hal\+Imu\+\_\+orientation\+Values}) \\
\hline
\mbox{\tt out}  & {\em returns} & a boolean value, indicating the occurrence of failures~\newline
 0 .... indicates success (no errors)~\newline
 1 .... indicates failed (some errors)\\
\hline
\end{DoxyParams}


Definition at line 102 of file udp\+Sig\+Lib.\+c.


\begin{DoxyCode}
106 \{
107 
108     \hyperlink{structhalMatlab__rtSigAllStatePayload}{halMatlab\_rtSigAllStatePayload}    l\_rtCompleteSigPayload\_st;
109     \textcolor{keyword}{struct }timespec                 l\_timestamp\_st;
110 
111     \textcolor{comment}{/*}
112 \textcolor{comment}{     * first of all: get an accurate timestamp for this data telegram}
113 \textcolor{comment}{     * Hint: ensure that 'librt' is also linked in the project!}
114 \textcolor{comment}{     *       Eclipse: Goto Project->Properties.}
115 \textcolor{comment}{     *                Select C/C++-Build->Settings}
116 \textcolor{comment}{     *                Select tab view 'Tool Settings'.}
117 \textcolor{comment}{     *                Select 'Cross G++ Linker'->Libraries}
118 \textcolor{comment}{     *                and add the entry 'rt' to 'Libraries (-l)'}
119 \textcolor{comment}{     *}
120 \textcolor{comment}{     *       GCC on the commandline: simply add '-lrt' to your gcc options}
121 \textcolor{comment}{     */}
122     \textcolor{keywordflow}{if} ( clock\_gettime(CLOCK\_REALTIME, &l\_timestamp\_st) != 
      \hyperlink{udpLib_8h_ad333b364a4a2985b07139f12f7fc585c_ad333b364a4a2985b07139f12f7fc585c}{M\_HAL\_MATLAB\_SUCCESS\_UI8})
123     \{
124         \textcolor{keywordflow}{return} \hyperlink{udpLib_8h_a993d0366460aefd26c70cd1b73864878_a993d0366460aefd26c70cd1b73864878}{M\_HAL\_MATLAB\_FAILED\_UI8};
125     \}
126 
127     \textcolor{comment}{//assmeble timestamp and}
128     l\_rtCompleteSigPayload\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a2526e3f137ca373500385c769c69b897_a2526e3f137ca373500385c769c69b897}{timestamp\_st}              = l\_timestamp\_st;
129     l\_rtCompleteSigPayload\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a077a67bc0c0d249d0e4bfb7287676646_a077a67bc0c0d249d0e4bfb7287676646}{imuState\_st}                = f\_rawImuState\_st;
130     l\_rtCompleteSigPayload\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_a125a952adeb10a6d7391f2b0acfcaae2_a125a952adeb10a6d7391f2b0acfcaae2}{kalmanSigState\_st}        = f\_sigKalmanState\_st;
131     l\_rtCompleteSigPayload\_st.\hyperlink{structhalMatlab__rtSigAllStatePayload_ae2a362e5944039d976077bb43797fd30_ae2a362e5944039d976077bb43797fd30}{complementarySigState\_st}  = 
      f\_sigComplementaryState\_st;
132 
133     \textcolor{keywordflow}{return} \hyperlink{udpLib_8c_a3bcf5bf8c07f257cd13d2c94a9ce6d4f_a3bcf5bf8c07f257cd13d2c94a9ce6d4f}{g\_halMatlab\_sendPacket\_bl}(  f\_socketHandler\_i32,
134                                         (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*)&l\_rtCompleteSigPayload\_st,
135                                         \textcolor{keyword}{sizeof}( l\_rtCompleteSigPayload\_st ) );
136 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{udpSigLib_8h_af61d04b0beb193be3fdc57b6aad27ee4_af61d04b0beb193be3fdc57b6aad27ee4_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{udpSigLib_8h_af61d04b0beb193be3fdc57b6aad27ee4_af61d04b0beb193be3fdc57b6aad27ee4_icgraph}
\end{center}
\end{figure}


\hypertarget{udpSigLib_8h_a662f398ba9844156271a729363b6b4bd_a662f398ba9844156271a729363b6b4bd}{\index{udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}!g\+\_\+hal\+Matlab\+\_\+send\+Sig\+State\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+State\+\_\+bl}}
\index{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+State\+\_\+bl@{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+State\+\_\+bl}!udp\+Sig\+Lib.\+h@{udp\+Sig\+Lib.\+h}}
\subsubsection[{g\+\_\+hal\+Matlab\+\_\+send\+Sig\+State\+\_\+bl}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int g\+\_\+hal\+Matlab\+\_\+send\+Sig\+State\+\_\+bl (
\begin{DoxyParamCaption}
\item[{int}]{f\+\_\+socket\+Handler\+\_\+i32, }
\item[{{\bf sig\+Ori\+\_\+orientation\+Angles}}]{f\+\_\+sig\+State\+\_\+st}
\end{DoxyParamCaption}
)}}\label{udpSigLib_8h_a662f398ba9844156271a729363b6b4bd_a662f398ba9844156271a729363b6b4bd}


Sends a packet of I\+M\+U data with the current unuix-\/timestamp via a given U\+D\+P-\/\+Socket. 



 \begin{DoxyAuthor}{Author}
Juergen Schmidt (juscgs00) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2014/06/01
\end{DoxyDate}
This function sends a data packet with the given I\+M\+U state via a given U\+D\+P-\/\+Socket. The current timestamp is added to the payload to get some sort of realtime behavior.~\newline
 This can be used to perform a Software-\/in -\/the-\/\+Loop setup or test specific filter algorithms in M\+A\+T\+L\+A\+B.~\newline
 It is recommended to open the neccessary U\+D\+P-\/socket with \hyperlink{udpLib_8c_ae4db0dc04a7a7f7b01cf95c393701204_ae4db0dc04a7a7f7b01cf95c393701204}{g\+\_\+hal\+Matlab\+\_\+init\+Socket\+\_\+i32()} or \hyperlink{udpLib_8c_af56c173f4b3218ace62bff967eacac4d_af56c173f4b3218ace62bff967eacac4d}{g\+\_\+hal\+Matlab\+\_\+init\+Connection\+\_\+i32()}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em f\+\_\+socket\+Handler\+\_\+i32} & specifies socket handler number used for the data transmission \\
\hline
\mbox{\tt in}  & {\em f\+\_\+imu\+State\+\_\+st} & is a the I\+M\+U state packed into a custom struct type (type\+: \hyperlink{structhalImu__orientationValues}{hal\+Imu\+\_\+orientation\+Values}) \\
\hline
\mbox{\tt out}  & {\em returns} & a boolean value, indicating the occurrence of failures~\newline
 0 .... indicates success (no errors)~\newline
 1 .... indicates failed (some errors)\\
\hline
\end{DoxyParams}


Definition at line 41 of file udp\+Sig\+Lib.\+c.


\begin{DoxyCode}
43 \{
44 
45     \hyperlink{structhalMatlab__rtSigPayload}{halMatlab\_rtSigPayload}    l\_rtSigPayload\_st;
46     \textcolor{keyword}{struct }timespec         l\_timestamp\_st;
47 
48     \textcolor{comment}{/*}
49 \textcolor{comment}{     * first of all: get an accurate timestamp for this data telegram}
50 \textcolor{comment}{     * Hint: ensure that 'librt' is also linked in the project!}
51 \textcolor{comment}{     *       Eclipse: Goto Project->Properties.}
52 \textcolor{comment}{     *                Select C/C++-Build->Settings}
53 \textcolor{comment}{     *                Select tab view 'Tool Settings'.}
54 \textcolor{comment}{     *                Select 'Cross G++ Linker'->Libraries}
55 \textcolor{comment}{     *                and add the entry 'rt' to 'Libraries (-l)'}
56 \textcolor{comment}{     *}
57 \textcolor{comment}{     *       GCC on the commandline: simply add '-lrt' to your gcc options}
58 \textcolor{comment}{     */}
59     \textcolor{keywordflow}{if} ( clock\_gettime(CLOCK\_REALTIME, &l\_timestamp\_st) != 
      \hyperlink{udpLib_8h_ad333b364a4a2985b07139f12f7fc585c_ad333b364a4a2985b07139f12f7fc585c}{M\_HAL\_MATLAB\_SUCCESS\_UI8})
60     \{
61         \textcolor{keywordflow}{return} \hyperlink{udpLib_8h_a993d0366460aefd26c70cd1b73864878_a993d0366460aefd26c70cd1b73864878}{M\_HAL\_MATLAB\_FAILED\_UI8};
62     \}
63 
64     \textcolor{comment}{//assmeble timestamp and}
65     l\_rtSigPayload\_st.\hyperlink{structhalMatlab__rtSigPayload_acf78b49f8e27a0097931fe0e57d14819_acf78b49f8e27a0097931fe0e57d14819}{timestamp\_st}  = l\_timestamp\_st;
66     l\_rtSigPayload\_st.\hyperlink{structhalMatlab__rtSigPayload_acbe0c4752e7c359734effc1f17f5f494_acbe0c4752e7c359734effc1f17f5f494}{sigState\_st}    = f\_sigState\_st;
67 
68     \textcolor{keywordflow}{return} \hyperlink{udpLib_8c_a3bcf5bf8c07f257cd13d2c94a9ce6d4f_a3bcf5bf8c07f257cd13d2c94a9ce6d4f}{g\_halMatlab\_sendPacket\_bl}(  f\_socketHandler\_i32,
69                                         (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*)&l\_rtSigPayload\_st,
70                                         \textcolor{keyword}{sizeof}( l\_rtSigPayload\_st ) );
71 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{udpSigLib_8h_a662f398ba9844156271a729363b6b4bd_a662f398ba9844156271a729363b6b4bd_cgraph}
\end{center}
\end{figure}


